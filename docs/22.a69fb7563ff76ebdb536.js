(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"8GA0":function(n,t,l){"use strict";var e;l.d(t,"a",(function(){return e})),function(n){n.All="All",n.ScheduledSurgery="Scheduled Surgery",n.ScheduledBiopsy="Scheduled Biopsy",n.NotScheduled="Nothing Scheduled"}(e||(e={}))},GTb5:function(n,t,l){"use strict";l.d(t,"a",(function(){return s}));var e=l("dYYQ"),o=l("yOrE"),r=l("8GA0"),u=l("AafL"),a=l("hNfE"),i=l("CcnG"),s=function(){function n(n){this.dbSvc=n}return n.prototype.getPatientsByFilter=function(n,t){var l=this;return void 0===n&&(n=r.a.All),void 0===t&&(t={}),new Promise((function(e,o){var a;switch(n){case r.a.All:a=l.getPatients(t);break;case r.a.NotScheduled:a=l.getPatientsWithNothingScheduled();break;case r.a.ScheduledBiopsy:a=l.getPatientsScheduledForBiopsy();break;case r.a.ScheduledSurgery:a=l.getPatientsScheduledForSurgery()}if(null!=a)if(null!=t.watchingProvider){var i=new u.a;i.patients=[],a.then((function(n){for(var l=0,o=n.patients;l<o.length;l++){var r=o[l];null!=r.watchers&&-1!=r.watchers.indexOf(t.watchingProvider)&&i.patients.push(r)}i.totalRows=i.patients.length,e(i)}))}else e(a);else o("No patient filter specified")}))},n.prototype.getPatients=function(n){return void 0===n&&(n={}),this.dbSvc.getPatients(n)},n.prototype.getPatientsWithNothingScheduled=function(){var n={$and:[{$not:{$or:[{"surgery.surgeryStatus":o.a.Completed},{"surgery.surgeryStatus":o.a.Scheduled},{"biopsy.status":a.a.Completed},{"biopsy.status":a.a.Scheduled}]}},{$or:[{surgery:void 0},{"surgery.scheduledSurgery":void 0},{"surgery.scheduledSurgery.scheduledDate":{$lt:(new Date).toISOString()}},{"surgery.surgeryStatus":o.a.Missed},{"surgery.surgeryStatus":o.a.NotIndicated},{"surgery.surgeryStatus":o.a.NotScheduled}]},{$or:[{biopsy:void 0},{"biopsy.status":void 0},{"biopsy.status":a.a.NotIndicated},{"biopsy.status":a.a.NotScheduled},{"biopsy.scheduledBiopsy.scheduledDate":{$lt:(new Date).toISOString()}}]}]};return this.getPatientsBySelector(n)},n.prototype.getPatientsScheduledForSurgery=function(){var n={"surgery.scheduledSurgery.scheduledDate":{$gt:(new Date).toISOString()}};return this.getPatientsBySelector(n)},n.prototype.getPatientsScheduledForBiopsy=function(){var n={"biopsy.scheduledBiopsy.scheduledDate":{$gt:(new Date).toISOString()}};return this.getPatientsBySelector(n)},n.prototype.getPatientsBySelector=function(n){var t=this;return new Promise((function(l,e){t.dbSvc.getDb().find({selector:n}).then((function(n){var t=new u.a;t.patients=n.docs,t.totalRows=t.patients.length,l(t)})).catch((function(n){e(n)}))}))},n.prototype.getPatientsByIndex=function(n,t,l){var e=this;return new Promise((function(o,r){var a=e.dbSvc.getDb();a.createIndex({index:{fields:n,ddoc:t}}).then((function(){a.find({selector:l,use_index:t}).then((function(n){var t=new u.a;t.patients=n.docs,t.totalRows=t.patients.length,o(t)})).catch((function(n){r(n)}))})).catch((function(n){r(n)}))}))},n.ngInjectableDef=i.S({factory:function(){return new n(i.W(e.a))},token:n,providedIn:"root"}),n}()},YDOb:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),o=l("ZZ/e"),r=l("GTb5"),u=function(){function n(n,t,l,e){this.navCtrl=n,this.navParams=t,this.patientListSvc=l,this.events=e,this.lineChartData=[{data:[65,59,80,81,56,55,40],label:"Series A"},{data:[28,48,40,19,86,27,90],label:"Series B"},{data:[18,48,77,9,100,27,40],label:"Series C"}],this.lineChartLabels=["January","February","March","April","May","June","July"],this.lineChartOptions={responsive:!0},this.lineChartColors=[{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"#a2eaf2",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.lineChartLegend=!0,this.lineChartType="line"}return n.prototype.ngOnInit=function(){},n.prototype.getPatients=function(){var n=this;return this.patientListSvc.getPatients().then((function(t){for(var l in n.patients=t,n.storePatientsToGraph=t,t);n.storePatientsToGraph=[0,0,0,0]})).catch((function(t){console.log("get patients error",t),n.patients=[]})),this.storePatientsToGraph},n.prototype.randomize=function(){for(var n=new Array(this.lineChartData.length),t=0;t<this.lineChartData.length;t++){n[t]={data:new Array(this.lineChartData[t].data.length),label:this.lineChartData[t].label};for(var l=0;l<this.lineChartData[t].data.length;l++)n[t].data[l]=Math.floor(100*Math.random()+1)}this.lineChartData=n},n.prototype.chartClicked=function(n){console.log(n)},n.prototype.chartHovered=function(n){console.log(n)},n}(),a=function(){return function(){}}(),i=l("pMnS"),s=l("oBZk"),d=e.nb({encapsulation:0,styles:[[""]],data:{}});function c(n){return e.Jb(0,[e.Fb(402653184,1,{lineCanvas:0}),(n()(),e.pb(1,0,null,null,11,"ion-header",[],null,null,null,s.eb,s.o)),e.ob(2,49152,null,0,o.D,[e.h,e.k,e.z],null,null),(n()(),e.pb(3,0,null,0,9,"ion-toolbar",[],null,null,null,s.Fb,s.P)),e.ob(4,49152,null,0,o.Eb,[e.h,e.k,e.z],null,null),(n()(),e.pb(5,0,null,0,2,"ion-title",[],null,null,null,s.Db,s.N)),e.ob(6,49152,null,0,o.Cb,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,["Graph"])),(n()(),e.pb(8,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,s.U,s.e)),e.ob(9,49152,null,0,o.n,[e.h,e.k,e.z],null,null),(n()(),e.pb(10,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,t,l){var o=!0;return"click"===t&&(o=!1!==e.zb(n,12).onClick(l)&&o),o}),s.S,s.c)),e.ob(11,49152,null,0,o.i,[e.h,e.k,e.z],null,null),e.ob(12,16384,null,0,o.j,[[2,o.kb],o.Kb],null,null),(n()(),e.pb(13,0,null,null,15,"ion-content",[["padding",""]],null,null,null,s.Z,s.j)),e.ob(14,49152,null,0,o.w,[e.h,e.k,e.z],null,null),e.ob(15,16384,null,0,o.e,[e.k],null,null),(n()(),e.pb(16,0,null,0,7,"ion-card",[],null,null,null,s.X,s.f)),e.ob(17,49152,null,0,o.o,[e.h,e.k,e.z],null,null),(n()(),e.pb(18,0,null,0,2,"ion-card-header",[],null,null,null,s.W,s.h)),e.ob(19,49152,null,0,o.q,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,[" Completed Surgeries "])),(n()(),e.pb(21,0,null,0,2,"ion-card-content",[],null,null,null,s.V,s.g)),e.ob(22,49152,null,0,o.p,[e.h,e.k,e.z],null,null),(n()(),e.pb(23,0,[[1,0],["lineCanvas",1]],0,0,"canvas",[],null,null,null,null,null)),(n()(),e.pb(24,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),e.pb(25,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),e.pb(26,0,null,0,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.pb(27,0,null,null,1,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),e.pb(28,0,null,null,0,"div",[["style","display: block;"]],null,null,null,null,null))],null,null)}function h(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"app-graph",[],null,null,null,c,d)),e.ob(1,114688,null,0,u,[o.Kb,o.Lb,r.a,o.f],null,null)],(function(n,t){n(t,1,0)}),null)}var b=e.lb("app-graph",u,h,{},{},[]),p=l("Ip0R"),g=l("gIcY"),f=l("ZYCi");l.d(t,"GraphPageModuleNgFactory",(function(){return y}));var y=e.mb(a,[],(function(n){return e.wb([e.xb(512,e.j,e.bb,[[8,[i.a,b]],[3,e.j],e.x]),e.xb(4608,p.m,p.l,[e.u,[2,p.w]]),e.xb(4608,g.m,g.m,[]),e.xb(4608,o.b,o.b,[e.z,e.g]),e.xb(4608,o.Jb,o.Jb,[o.b,e.j,e.q]),e.xb(4608,o.Ob,o.Ob,[o.b,e.j,e.q]),e.xb(1073742336,p.b,p.b,[]),e.xb(1073742336,g.k,g.k,[]),e.xb(1073742336,g.b,g.b,[]),e.xb(1073742336,o.Gb,o.Gb,[]),e.xb(1073742336,f.o,f.o,[[2,f.u],[2,f.m]]),e.xb(1073742336,a,a,[]),e.xb(1024,f.k,(function(){return[[{path:"",component:u}]]}),[])])}))},hNfE:function(n,t,l){"use strict";var e;l.d(t,"a",(function(){return e})),function(n){n.Scheduled="Scheduled",n.NotScheduled="Not Scheduled",n.Completed="Completed",n.NotIndicated="Not Indicated"}(e||(e={}))},yOrE:function(n,t,l){"use strict";var e;l.d(t,"a",(function(){return e})),function(n){n.Completed="Completed",n.Scheduled="Scheduled",n.NotScheduled="Not Scheduled",n.NotIndicated="Not Indicated",n.ScheduledToday="Scheduled Today",n.Missed="Missed"}(e||(e={}))}}]);